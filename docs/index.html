<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>diff Documentation</title>
    <style>
      body {
        margin: 0;
        padding: 48px 24px;
        font-family: Arial, sans-serif;
        background: #0f172a;
        color: #e2e8f0;
      }
      main {
        max-width: 760px;
        margin: 0 auto;
      }
      h1 {
        margin: 0 0 12px;
        font-size: 28px;
      }
      .intro {
        font-size: 16px;
        color: #e2e8f0;
      }
      p {
        margin: 0 0 16px;
        color: #cbd5f5;
      }
      ul {
        margin: 12px 0 0;
        padding-left: 18px;
      }
      a {
        color: #93c5fd;
      }
      .section {
        margin-top: 28px;
      }
      .muted {
        color: #94a3b8;
        font-size: 14px;
        margin: 6px 0 0;
      }
      .code {
        background: #0b1220;
        border: 1px solid #1e293b;
        border-radius: 10px;
        padding: 16px;
        white-space: pre-wrap;
        word-break: break-word;
        font-size: 13px;
        line-height: 1.5;
        color: #e2e8f0;
      }
    </style>
  </head>
  <body>
    <main>
      <h1>module/diff - V8 module</h1>
      <p class="intro">Get a quick, structured view of what changed between two values without pulling in heavy tooling. This module focuses on clarity and compact output so you can use diffs in logs, workflow decisions, or light auditing.</p>
      <p class="muted">Learn more at <a href="https://instago.ai" target="_blank" rel="noopener">https://instago.ai</a>.</p>
      <div class="section">
        <h2>Technical reference</h2>
        <h1>module/diff - V8 module</h1>
<p>Get a quick, structured view of what changed between two values without pulling in heavy tooling. This module focuses on clarity and compact output so you can use diffs in logs, workflow decisions, or light auditing.</p>
<p>It is built for the hgi-v8 runtime and works without Node.js dependencies. Learn more at https://instago.ai.</p>
<h2>Technical reference</h2>
<p>Exports:</p>
<ul>
<li><code>diff(a, b)</code> -&gt; <code>object|null</code></li>
<li><code>applyTextDiff(textDiff)</code> -&gt; <code>array|null</code></li>
</ul>
<p>Usage:</p>
<ul>
<li><code>diff(a, b)</code> compares strings, arrays, plain objects, and primitives.</li>
<li>Strings return <code>{ type: &#x27;text&#x27;, changes: [{ line, before, after }] }</code> or <code>null</code>.</li>
<li>Arrays return <code>{ type: &#x27;array&#x27;, removed?, added?, changed? }</code> or <code>null</code>.</li>
<li>Objects return <code>{ type: &#x27;object&#x27;, changes }</code> or <code>null</code>.</li>
<li>Primitives return <code>{ before, after }</code> or <code>null</code>.</li>
<li><code>applyTextDiff(textDiff)</code> returns only added lines from a text diff, or <code>null</code> for invalid input.</li>
</ul>
<p>Configuration:</p>
<ul>
<li>No required or optional env keys in <code>env.json</code>.</li>
<li>No <code>configure</code> function.</li>
</ul>
<p>Examples:</p>
<pre class="code"><code>
const { diff, applyTextDiff } = require(&#x27;diff@latest&#x27;);

const textDelta = diff(&#x27;a&#x27;, &#x27;a\nb&#x27;);
// =&gt; { type: &#x27;text&#x27;, changes: [{ line: 2, before: null, after: &#x27;b&#x27; }] }

const addedLines = applyTextDiff(textDelta);
// =&gt; [{ line: 2, before: null, after: &#x27;b&#x27; }]

const objDelta = diff({ a: 1 }, { a: 2, b: 3 });
// =&gt; { type: &#x27;object&#x27;, changes: { a: { before: 1, after: 2 }, b: { added: 3 } } }
</code></pre>
      </div>
      
    </main>
  </body>
</html>
